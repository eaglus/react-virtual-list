/*! For license information please see main.ea810de5.iframe.bundle.js.LICENSE.txt */
(window.webpackJsonp=window.webpackJsonp||[]).push([[4],{"./.storybook/preview.js-generated-config-entry.js":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);var preview_namespaceObject={};__webpack_require__.r(preview_namespaceObject),__webpack_require__.d(preview_namespaceObject,"parameters",(function(){return parameters}));__webpack_require__("./node_modules/core-js/modules/es.object.keys.js"),__webpack_require__("./node_modules/core-js/modules/es.symbol.js"),__webpack_require__("./node_modules/core-js/modules/es.array.filter.js"),__webpack_require__("./node_modules/core-js/modules/es.object.get-own-property-descriptor.js"),__webpack_require__("./node_modules/core-js/modules/es.array.for-each.js"),__webpack_require__("./node_modules/core-js/modules/web.dom-collections.for-each.js"),__webpack_require__("./node_modules/core-js/modules/es.object.get-own-property-descriptors.js"),__webpack_require__("./node_modules/core-js/modules/es.object.define-properties.js"),__webpack_require__("./node_modules/core-js/modules/es.object.define-property.js");var ClientApi=__webpack_require__("./node_modules/@storybook/client-api/dist/esm/ClientApi.js"),parameters={actions:{argTypesRegex:"^on[A-Z].*"},controls:{matchers:{color:/(background|color)$/i,date:/Date$/}}};function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);enumerableOnly&&(symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}))),keys.push.apply(keys,symbols)}return keys}function _defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}Object.keys(preview_namespaceObject).forEach((function(key){var value=preview_namespaceObject[key];switch(key){case"args":return Object(ClientApi.d)(value);case"argTypes":return Object(ClientApi.b)(value);case"decorators":return value.forEach((function(decorator){return Object(ClientApi.f)(decorator,!1)}));case"loaders":return value.forEach((function(loader){return Object(ClientApi.g)(loader,!1)}));case"parameters":return Object(ClientApi.h)(function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?ownKeys(Object(source),!0).forEach((function(key){_defineProperty(target,key,source[key])})):Object.getOwnPropertyDescriptors?Object.defineProperties(target,Object.getOwnPropertyDescriptors(source)):ownKeys(Object(source)).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}))}return target}({},value),!1);case"argTypesEnhancers":return value.forEach((function(enhancer){return Object(ClientApi.c)(enhancer)}));case"argsEnhancers":return value.forEach((function(enhancer){return Object(ClientApi.e)(enhancer)}));case"render":return Object(ClientApi.i)(value);case"globals":case"globalTypes":var v={};return v[key]=value,Object(ClientApi.h)(v,!1);case"__namedExportsOrder":case"decorateStory":case"renderToDOM":return null;default:return console.log(key+" was not supported :( !")}}))},"./generated-stories-entry.js":function(module,exports,__webpack_require__){"use strict";(function(module){(0,__webpack_require__("./node_modules/@storybook/react/dist/esm/client/index.js").configure)([__webpack_require__("./stories sync recursive ^\\.(?:(?:^|\\/|(?:(?:(?!(?:^|\\/)\\.).)*?)\\/)(?!\\.)(?=.)[^/]*?\\.stories\\.mdx)$"),__webpack_require__("./stories sync recursive ^\\.(?:(?:^|\\/|(?:(?:(?!(?:^|\\/)\\.).)*?)\\/)(?!\\.)(?=.)[^/]*?\\.stories\\.(js|jsx|ts|tsx))$")],module,!1)}).call(this,__webpack_require__("./node_modules/webpack/buildin/module.js")(module))},"./stories sync recursive ^\\.(?:(?:^|\\/|(?:(?:(?!(?:^|\\/)\\.).)*?)\\/)(?!\\.)(?=.)[^/]*?\\.stories\\.(js|jsx|ts|tsx))$":function(module,exports,__webpack_require__){var map={"./VirtualScroll.stories.tsx":"./stories/VirtualScroll.stories.tsx"};function webpackContext(req){var id=webpackContextResolve(req);return __webpack_require__(id)}function webpackContextResolve(req){if(!__webpack_require__.o(map,req)){var e=new Error("Cannot find module '"+req+"'");throw e.code="MODULE_NOT_FOUND",e}return map[req]}webpackContext.keys=function webpackContextKeys(){return Object.keys(map)},webpackContext.resolve=webpackContextResolve,module.exports=webpackContext,webpackContext.id="./stories sync recursive ^\\.(?:(?:^|\\/|(?:(?:(?!(?:^|\\/)\\.).)*?)\\/)(?!\\.)(?=.)[^/]*?\\.stories\\.(js|jsx|ts|tsx))$"},"./stories sync recursive ^\\.(?:(?:^|\\/|(?:(?:(?!(?:^|\\/)\\.).)*?)\\/)(?!\\.)(?=.)[^/]*?\\.stories\\.mdx)$":function(module,exports){function webpackEmptyContext(req){var e=new Error("Cannot find module '"+req+"'");throw e.code="MODULE_NOT_FOUND",e}webpackEmptyContext.keys=function(){return[]},webpackEmptyContext.resolve=webpackEmptyContext,module.exports=webpackEmptyContext,webpackEmptyContext.id="./stories sync recursive ^\\.(?:(?:^|\\/|(?:(?:(?!(?:^|\\/)\\.).)*?)\\/)(?!\\.)(?=.)[^/]*?\\.stories\\.mdx)$"},"./stories/VirtualScroll.stories.tsx":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"VirtualScrollSample",(function(){return VirtualScrollSample}));__webpack_require__("./node_modules/core-js/modules/es.promise.js"),__webpack_require__("./node_modules/core-js/modules/es.object.to-string.js"),__webpack_require__("./node_modules/core-js/modules/es.array.concat.js"),__webpack_require__("./node_modules/core-js/modules/es.symbol.js"),__webpack_require__("./node_modules/core-js/modules/es.symbol.description.js"),__webpack_require__("./node_modules/core-js/modules/es.object.assign.js"),__webpack_require__("./node_modules/core-js/modules/es.function.bind.js"),__webpack_require__("./node_modules/core-js/modules/es.array.is-array.js"),__webpack_require__("./node_modules/core-js/modules/es.symbol.iterator.js"),__webpack_require__("./node_modules/core-js/modules/es.string.iterator.js"),__webpack_require__("./node_modules/core-js/modules/es.array.iterator.js"),__webpack_require__("./node_modules/core-js/modules/web.dom-collections.iterator.js"),__webpack_require__("./node_modules/core-js/modules/es.array.slice.js"),__webpack_require__("./node_modules/core-js/modules/es.function.name.js"),__webpack_require__("./node_modules/core-js/modules/es.array.from.js"),__webpack_require__("./node_modules/core-js/modules/es.object.define-property.js"),__webpack_require__("./node_modules/core-js/modules/es.symbol.async-iterator.js"),__webpack_require__("./node_modules/core-js/modules/es.symbol.to-string-tag.js"),__webpack_require__("./node_modules/core-js/modules/es.math.to-string-tag.js"),__webpack_require__("./node_modules/core-js/modules/es.json.to-string-tag.js"),__webpack_require__("./node_modules/core-js/modules/es.object.create.js"),__webpack_require__("./node_modules/core-js/modules/es.object.get-prototype-of.js"),__webpack_require__("./node_modules/core-js/modules/es.array.for-each.js"),__webpack_require__("./node_modules/core-js/modules/web.dom-collections.for-each.js"),__webpack_require__("./node_modules/core-js/modules/es.object.set-prototype-of.js"),__webpack_require__("./node_modules/core-js/modules/es.array.reverse.js");var react=__webpack_require__("./node_modules/react/index.js"),TIMEOUT=(__webpack_require__("./node_modules/core-js/modules/web.timers.js"),__webpack_require__("./node_modules/core-js/modules/es.array.map.js"),__webpack_require__("./node_modules/core-js/modules/es.array.fill.js"),1500);function getData(params){var textToWrap=" --- some text to wrap --- long text to wrap --- ";return function delay(value){return new Promise((function(resolve){setTimeout((function(){return resolve(value)}),TIMEOUT)}))}(params).then((function(_ref){var offset=_ref.offset,pageSize=_ref.pageSize;return Array(pageSize).fill(0).map((function(_,index){var key=offset+index;return{key:key,description:"Data item "+key+textToWrap+textToWrap+textToWrap,height:Math.floor(20*Math.random())+20}}))}))}var styled_components_browser_esm=__webpack_require__("./node_modules/styled-components/dist/styled-components.browser.esm.js"),jsx_runtime=(__webpack_require__("./node_modules/core-js/modules/es.array.join.js"),__webpack_require__("./node_modules/react/jsx-runtime.js"));function LoadingOverlayDefault(){return Object(jsx_runtime.jsxs)("div",{style:{position:"absolute",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",top:0,left:0,right:0,bottom:0},children:[Object(jsx_runtime.jsx)("div",{style:{position:"absolute",backgroundColor:"black",opacity:.2,top:0,left:0,right:0,bottom:0}}),Object(jsx_runtime.jsx)("div",{style:{},children:"Loading..."})]})}function _slicedToArray(arr,i){return function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}(arr)||function _iterableToArrayLimit(arr,i){var _i=null==arr?null:"undefined"!=typeof Symbol&&arr[Symbol.iterator]||arr["@@iterator"];if(null!=_i){var _s,_e,_x,_r,_arr=[],_n=!0,_d=!1;try{if(_x=(_i=_i.call(arr)).next,0===i){if(Object(_i)!==_i)return;_n=!1}else for(;!(_n=(_s=_x.call(_i)).done)&&(_arr.push(_s.value),_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{if(!_n&&null!=_i.return&&(_r=_i.return(),Object(_r)!==_r))return}finally{if(_d)throw _e}}return _arr}}(arr,i)||function _unsupportedIterableToArray(o,minLen){if(!o)return;if("string"==typeof o)return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(o);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray(o,minLen)}(arr,i)||function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}LoadingOverlayDefault.displayName="LoadingOverlayDefault";var _templateObject,_templateObject2,_templateObject3,_templateObject4,DATA_FETCH_CHUNK=20,OVERSCROLL_ROWS_COUNT=10,SCROLL_SHIFT_GAP=3,START_LOAD_GAP=30;function VirtualScroll(props){var data=props.data,loading=props.loading,renderRow=props.renderRow,onLoadMore=props.onLoadMore,className=props.className,loadingOverlayComponent=props.loadingOverlayComponent,_props$overscrollRows=props.overscrollRowsCount,overscrollRowsCount=void 0===_props$overscrollRows?OVERSCROLL_ROWS_COUNT:_props$overscrollRows,LoadingOverlay=null!=loadingOverlayComponent?loadingOverlayComponent:LoadingOverlayDefault,_useState2=_slicedToArray(Object(react.useState)([0,0]),2),renderRange=_useState2[0],setRenderRange=_useState2[1],rootRef=Object(react.useRef)(null),containerRef=Object(react.useRef)(null),onLoadMoreRef=Object(react.useRef)(props.onLoadMore),rowBottoms=Object(react.useRef)([]),renderRangeRef=Object(react.useRef)(renderRange),dataRef=Object(react.useRef)(data),_useState4=_slicedToArray(Object(react.useState)(0),2),rootHeight=_useState4[0],setRootHeight=_useState4[1];Object(react.useEffect)((function(){var rootWidthPrev=void 0,rootElement=rootRef.current,observer=new ResizeObserver((function(){var newRootWidth=rootElement.clientWidth,newRootHeight=rootElement.clientHeight;newRootWidth!==rootWidthPrev&&(void 0!==rootWidthPrev&&(console.log("Root width changed, reset all"),rowBottoms.current=[],setRenderRange([0,0])),rootWidthPrev=newRootWidth),setRootHeight(newRootHeight)}));return observer.observe(rootElement),function(){observer.unobserve(rootElement),observer.disconnect()}}),[]),Object(react.useEffect)((function(){renderRangeRef.current=renderRange,dataRef.current=data,onLoadMoreRef.current=onLoadMore,data.length<rowBottoms.current.length&&(rowBottoms.current=[],renderRangeRef.current=[0,0],setRenderRange(renderRangeRef.current))}),[renderRange,data,onLoadMore]),Object(react.useLayoutEffect)((function(){for(var _rootRef$current$scro,_rootRef$current,bottoms=rowBottoms.current,renderedBottom=bottoms.length>0?bottoms[bottoms.length-1]:0,i=bottoms.length;i<renderRange[1];i++){var _containerRef$current;renderedBottom+=(null===(_containerRef$current=containerRef.current)||void 0===_containerRef$current?void 0:_containerRef$current.querySelector('[data-index="'+i+'"]')).getBoundingClientRect().height,bottoms.push(renderedBottom)}var renderRangeBottom=bottoms.length?bottoms[renderRange[1]-1]:0,scrolledTop=Math.ceil(null!==(_rootRef$current$scro=null===(_rootRef$current=rootRef.current)||void 0===_rootRef$current?void 0:_rootRef$current.scrollTop)&&void 0!==_rootRef$current$scro?_rootRef$current$scro:0),clientHeight=Math.ceil(null!=rootHeight?rootHeight:0);if(renderRangeBottom-START_LOAD_GAP<=clientHeight-scrolledTop&&!loading)if(data.length>renderRange[1]){var rangeEnd=Math.min(renderRange[1]+DATA_FETCH_CHUNK,data.length);rangeEnd!==renderRange[1]&&(console.log("Extend render range: "+renderRange[0]+" - "+rangeEnd),setRenderRange([renderRange[0],rangeEnd])),rangeEnd-renderRange[1]<DATA_FETCH_CHUNK&&onLoadMoreRef.current&&onLoadMoreRef.current(data.length)}else onLoadMoreRef.current&&onLoadMoreRef.current(data.length)}),[data,renderRange,loading,rootHeight]);var onScroll=Object(react.useCallback)((function(){for(var scrollTop=-rootRef.current.scrollTop,scrollBottom=scrollTop+rootRef.current.clientHeight,scrollHeight=rootRef.current.scrollHeight,screenRangeTop=function findLowerBound(arr,value){for(var l=0,h=arr.length;l<h;){var m=l+h>>1;arr[m]<value?l=m+1:h=m}return l}(rowBottoms.current,scrollTop),screenRangeCnt=0;rowBottoms.current[screenRangeTop+screenRangeCnt]<scrollBottom;)screenRangeCnt++;var screenRangeBottom=screenRangeTop+screenRangeCnt,_renderRangeRef$curre=_slicedToArray(renderRangeRef.current,2),rangeTop=_renderRangeRef$curre[0],rangeBottom=_renderRangeRef$curre[1];if(screenRangeTop<rangeTop||screenRangeBottom>rangeBottom-SCROLL_SHIFT_GAP){var newRange=[Math.max(0,screenRangeTop-overscrollRowsCount),Math.min(dataRef.current.length,screenRangeBottom+overscrollRowsCount)];(newRange[0]!==rangeTop||newRange[1]!==rangeBottom||scrollHeight-scrollBottom<1)&&(console.log("set new range: ",newRange.join(" - ")),setRenderRange(newRange))}}),[overscrollRowsCount]),renderedHeight=rowBottoms.current.length?Math.ceil(rowBottoms.current[rowBottoms.current.length-1]):0,renderRangeData=data.slice(renderRange[0],renderRange[1]),transformY=renderRange[0]<rowBottoms.current.length&&renderRange[0]>0?rowBottoms.current[renderRange[0]-1]:0;return Object(jsx_runtime.jsxs)("div",{className:className,children:[Object(jsx_runtime.jsx)("div",{style:{height:"100%",position:"relative",display:"flex",flexDirection:"column-reverse",overflowY:"scroll"},onScroll:onScroll,ref:rootRef,children:Object(jsx_runtime.jsx)("div",{style:{height:renderedHeight,position:"relative",flexGrow:0,flexShrink:0,display:"flex",flexDirection:"column-reverse"},ref:containerRef,children:renderRangeData.map((function(rowData,index){return Object(jsx_runtime.jsx)("div",{"data-index":renderRange[0]+index,style:transformY?{transform:"translateY(-"+transformY+"px)"}:void 0,children:renderRow(rowData,index)},rowData.key)}))})}),loading&&Object(jsx_runtime.jsx)(LoadingOverlay,{})]})}VirtualScroll.displayName="VirtualScroll";try{VirtualScroll.displayName="VirtualScroll",VirtualScroll.__docgenInfo={description:"",displayName:"VirtualScroll",props:{data:{defaultValue:null,description:"",name:"data",required:!0,type:{name:"T[]"}},loading:{defaultValue:null,description:"",name:"loading",required:!0,type:{name:"boolean"}},onLoadMore:{defaultValue:null,description:"",name:"onLoadMore",required:!1,type:{name:"((start: number) => void)"}},renderRow:{defaultValue:null,description:"",name:"renderRow",required:!0,type:{name:"(rowData: T, index: number) => ReactNode"}},className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string"}},loadingOverlayComponent:{defaultValue:null,description:"",name:"loadingOverlayComponent",required:!1,type:{name:"ComponentType<{}>"}},overscrollRowsCount:{defaultValue:null,description:"",name:"overscrollRowsCount",required:!1,type:{name:"number"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/virtual-scroll.tsx#VirtualScroll"]={docgenInfo:VirtualScroll.__docgenInfo,name:"VirtualScroll",path:"src/virtual-scroll.tsx#VirtualScroll"})}catch(__react_docgen_typescript_loader_error){}function _taggedTemplateLiteralLoose(strings,raw){return raw||(raw=strings.slice(0)),strings.raw=raw,strings}var GlobalStyle=Object(styled_components_browser_esm.a)(_templateObject||(_templateObject=_taggedTemplateLiteralLoose(["\n  body, html, #root {\n    height: 100%;\n  } \n"]))),Root=styled_components_browser_esm.b.div(_templateObject2||(_templateObject2=_taggedTemplateLiteralLoose(["\n  display: flex;\n  flex-direction: column;\n  position: relative;\n  gap: 20px;\n  height: 100%;\n"]))),Row=styled_components_browser_esm.b.div(_templateObject3||(_templateObject3=_taggedTemplateLiteralLoose(["\n  padding: 8px;\n  border: 1px solid gray;\n  display: flex;\n  align-items: center; \n"]))),styles_VirtualScroll=Object(styled_components_browser_esm.b)(VirtualScroll)(_templateObject4||(_templateObject4=_taggedTemplateLiteralLoose(["\n  flex-grow: 1;\n  flex-shrink: 0;\n  flex-basis: 0;\n  height: 0%;\n  position: relative;\n"])));function _regeneratorRuntime(){_regeneratorRuntime=function _regeneratorRuntime(){return exports};var exports={},Op=Object.prototype,hasOwn=Op.hasOwnProperty,defineProperty=Object.defineProperty||function(obj,key,desc){obj[key]=desc.value},$Symbol="function"==typeof Symbol?Symbol:{},iteratorSymbol=$Symbol.iterator||"@@iterator",asyncIteratorSymbol=$Symbol.asyncIterator||"@@asyncIterator",toStringTagSymbol=$Symbol.toStringTag||"@@toStringTag";function define(obj,key,value){return Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}),obj[key]}try{define({},"")}catch(err){define=function define(obj,key,value){return obj[key]=value}}function wrap(innerFn,outerFn,self,tryLocsList){var protoGenerator=outerFn&&outerFn.prototype instanceof Generator?outerFn:Generator,generator=Object.create(protoGenerator.prototype),context=new Context(tryLocsList||[]);return defineProperty(generator,"_invoke",{value:makeInvokeMethod(innerFn,self,context)}),generator}function tryCatch(fn,obj,arg){try{return{type:"normal",arg:fn.call(obj,arg)}}catch(err){return{type:"throw",arg:err}}}exports.wrap=wrap;var ContinueSentinel={};function Generator(){}function GeneratorFunction(){}function GeneratorFunctionPrototype(){}var IteratorPrototype={};define(IteratorPrototype,iteratorSymbol,(function(){return this}));var getProto=Object.getPrototypeOf,NativeIteratorPrototype=getProto&&getProto(getProto(values([])));NativeIteratorPrototype&&NativeIteratorPrototype!==Op&&hasOwn.call(NativeIteratorPrototype,iteratorSymbol)&&(IteratorPrototype=NativeIteratorPrototype);var Gp=GeneratorFunctionPrototype.prototype=Generator.prototype=Object.create(IteratorPrototype);function defineIteratorMethods(prototype){["next","throw","return"].forEach((function(method){define(prototype,method,(function(arg){return this._invoke(method,arg)}))}))}function AsyncIterator(generator,PromiseImpl){function invoke(method,arg,resolve,reject){var record=tryCatch(generator[method],generator,arg);if("throw"!==record.type){var result=record.arg,value=result.value;return value&&"object"==typeof value&&hasOwn.call(value,"__await")?PromiseImpl.resolve(value.__await).then((function(value){invoke("next",value,resolve,reject)}),(function(err){invoke("throw",err,resolve,reject)})):PromiseImpl.resolve(value).then((function(unwrapped){result.value=unwrapped,resolve(result)}),(function(error){return invoke("throw",error,resolve,reject)}))}reject(record.arg)}var previousPromise;defineProperty(this,"_invoke",{value:function value(method,arg){function callInvokeWithMethodAndArg(){return new PromiseImpl((function(resolve,reject){invoke(method,arg,resolve,reject)}))}return previousPromise=previousPromise?previousPromise.then(callInvokeWithMethodAndArg,callInvokeWithMethodAndArg):callInvokeWithMethodAndArg()}})}function makeInvokeMethod(innerFn,self,context){var state="suspendedStart";return function(method,arg){if("executing"===state)throw new Error("Generator is already running");if("completed"===state){if("throw"===method)throw arg;return doneResult()}for(context.method=method,context.arg=arg;;){var delegate=context.delegate;if(delegate){var delegateResult=maybeInvokeDelegate(delegate,context);if(delegateResult){if(delegateResult===ContinueSentinel)continue;return delegateResult}}if("next"===context.method)context.sent=context._sent=context.arg;else if("throw"===context.method){if("suspendedStart"===state)throw state="completed",context.arg;context.dispatchException(context.arg)}else"return"===context.method&&context.abrupt("return",context.arg);state="executing";var record=tryCatch(innerFn,self,context);if("normal"===record.type){if(state=context.done?"completed":"suspendedYield",record.arg===ContinueSentinel)continue;return{value:record.arg,done:context.done}}"throw"===record.type&&(state="completed",context.method="throw",context.arg=record.arg)}}}function maybeInvokeDelegate(delegate,context){var methodName=context.method,method=delegate.iterator[methodName];if(void 0===method)return context.delegate=null,"throw"===methodName&&delegate.iterator.return&&(context.method="return",context.arg=void 0,maybeInvokeDelegate(delegate,context),"throw"===context.method)||"return"!==methodName&&(context.method="throw",context.arg=new TypeError("The iterator does not provide a '"+methodName+"' method")),ContinueSentinel;var record=tryCatch(method,delegate.iterator,context.arg);if("throw"===record.type)return context.method="throw",context.arg=record.arg,context.delegate=null,ContinueSentinel;var info=record.arg;return info?info.done?(context[delegate.resultName]=info.value,context.next=delegate.nextLoc,"return"!==context.method&&(context.method="next",context.arg=void 0),context.delegate=null,ContinueSentinel):info:(context.method="throw",context.arg=new TypeError("iterator result is not an object"),context.delegate=null,ContinueSentinel)}function pushTryEntry(locs){var entry={tryLoc:locs[0]};1 in locs&&(entry.catchLoc=locs[1]),2 in locs&&(entry.finallyLoc=locs[2],entry.afterLoc=locs[3]),this.tryEntries.push(entry)}function resetTryEntry(entry){var record=entry.completion||{};record.type="normal",delete record.arg,entry.completion=record}function Context(tryLocsList){this.tryEntries=[{tryLoc:"root"}],tryLocsList.forEach(pushTryEntry,this),this.reset(!0)}function values(iterable){if(iterable){var iteratorMethod=iterable[iteratorSymbol];if(iteratorMethod)return iteratorMethod.call(iterable);if("function"==typeof iterable.next)return iterable;if(!isNaN(iterable.length)){var i=-1,next=function next(){for(;++i<iterable.length;)if(hasOwn.call(iterable,i))return next.value=iterable[i],next.done=!1,next;return next.value=void 0,next.done=!0,next};return next.next=next}}return{next:doneResult}}function doneResult(){return{value:void 0,done:!0}}return GeneratorFunction.prototype=GeneratorFunctionPrototype,defineProperty(Gp,"constructor",{value:GeneratorFunctionPrototype,configurable:!0}),defineProperty(GeneratorFunctionPrototype,"constructor",{value:GeneratorFunction,configurable:!0}),GeneratorFunction.displayName=define(GeneratorFunctionPrototype,toStringTagSymbol,"GeneratorFunction"),exports.isGeneratorFunction=function(genFun){var ctor="function"==typeof genFun&&genFun.constructor;return!!ctor&&(ctor===GeneratorFunction||"GeneratorFunction"===(ctor.displayName||ctor.name))},exports.mark=function(genFun){return Object.setPrototypeOf?Object.setPrototypeOf(genFun,GeneratorFunctionPrototype):(genFun.__proto__=GeneratorFunctionPrototype,define(genFun,toStringTagSymbol,"GeneratorFunction")),genFun.prototype=Object.create(Gp),genFun},exports.awrap=function(arg){return{__await:arg}},defineIteratorMethods(AsyncIterator.prototype),define(AsyncIterator.prototype,asyncIteratorSymbol,(function(){return this})),exports.AsyncIterator=AsyncIterator,exports.async=function(innerFn,outerFn,self,tryLocsList,PromiseImpl){void 0===PromiseImpl&&(PromiseImpl=Promise);var iter=new AsyncIterator(wrap(innerFn,outerFn,self,tryLocsList),PromiseImpl);return exports.isGeneratorFunction(outerFn)?iter:iter.next().then((function(result){return result.done?result.value:iter.next()}))},defineIteratorMethods(Gp),define(Gp,toStringTagSymbol,"Generator"),define(Gp,iteratorSymbol,(function(){return this})),define(Gp,"toString",(function(){return"[object Generator]"})),exports.keys=function(val){var object=Object(val),keys=[];for(var key in object)keys.push(key);return keys.reverse(),function next(){for(;keys.length;){var key=keys.pop();if(key in object)return next.value=key,next.done=!1,next}return next.done=!0,next}},exports.values=values,Context.prototype={constructor:Context,reset:function reset(skipTempReset){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(resetTryEntry),!skipTempReset)for(var name in this)"t"===name.charAt(0)&&hasOwn.call(this,name)&&!isNaN(+name.slice(1))&&(this[name]=void 0)},stop:function stop(){this.done=!0;var rootRecord=this.tryEntries[0].completion;if("throw"===rootRecord.type)throw rootRecord.arg;return this.rval},dispatchException:function dispatchException(exception){if(this.done)throw exception;var context=this;function handle(loc,caught){return record.type="throw",record.arg=exception,context.next=loc,caught&&(context.method="next",context.arg=void 0),!!caught}for(var i=this.tryEntries.length-1;i>=0;--i){var entry=this.tryEntries[i],record=entry.completion;if("root"===entry.tryLoc)return handle("end");if(entry.tryLoc<=this.prev){var hasCatch=hasOwn.call(entry,"catchLoc"),hasFinally=hasOwn.call(entry,"finallyLoc");if(hasCatch&&hasFinally){if(this.prev<entry.catchLoc)return handle(entry.catchLoc,!0);if(this.prev<entry.finallyLoc)return handle(entry.finallyLoc)}else if(hasCatch){if(this.prev<entry.catchLoc)return handle(entry.catchLoc,!0)}else{if(!hasFinally)throw new Error("try statement without catch or finally");if(this.prev<entry.finallyLoc)return handle(entry.finallyLoc)}}}},abrupt:function abrupt(type,arg){for(var i=this.tryEntries.length-1;i>=0;--i){var entry=this.tryEntries[i];if(entry.tryLoc<=this.prev&&hasOwn.call(entry,"finallyLoc")&&this.prev<entry.finallyLoc){var finallyEntry=entry;break}}finallyEntry&&("break"===type||"continue"===type)&&finallyEntry.tryLoc<=arg&&arg<=finallyEntry.finallyLoc&&(finallyEntry=null);var record=finallyEntry?finallyEntry.completion:{};return record.type=type,record.arg=arg,finallyEntry?(this.method="next",this.next=finallyEntry.finallyLoc,ContinueSentinel):this.complete(record)},complete:function complete(record,afterLoc){if("throw"===record.type)throw record.arg;return"break"===record.type||"continue"===record.type?this.next=record.arg:"return"===record.type?(this.rval=this.arg=record.arg,this.method="return",this.next="end"):"normal"===record.type&&afterLoc&&(this.next=afterLoc),ContinueSentinel},finish:function finish(finallyLoc){for(var i=this.tryEntries.length-1;i>=0;--i){var entry=this.tryEntries[i];if(entry.finallyLoc===finallyLoc)return this.complete(entry.completion,entry.afterLoc),resetTryEntry(entry),ContinueSentinel}},catch:function _catch(tryLoc){for(var i=this.tryEntries.length-1;i>=0;--i){var entry=this.tryEntries[i];if(entry.tryLoc===tryLoc){var record=entry.completion;if("throw"===record.type){var thrown=record.arg;resetTryEntry(entry)}return thrown}}throw new Error("illegal catch attempt")},delegateYield:function delegateYield(iterable,resultName,nextLoc){return this.delegate={iterator:values(iterable),resultName:resultName,nextLoc:nextLoc},"next"===this.method&&(this.arg=void 0),ContinueSentinel}},exports}function _toConsumableArray(arr){return function _arrayWithoutHoles(arr){if(Array.isArray(arr))return VirtualScroll_stories_arrayLikeToArray(arr)}(arr)||function _iterableToArray(iter){if("undefined"!=typeof Symbol&&null!=iter[Symbol.iterator]||null!=iter["@@iterator"])return Array.from(iter)}(arr)||VirtualScroll_stories_unsupportedIterableToArray(arr)||function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function asyncGeneratorStep(gen,resolve,reject,_next,_throw,key,arg){try{var info=gen[key](arg),value=info.value}catch(error){return void reject(error)}info.done?resolve(value):Promise.resolve(value).then(_next,_throw)}function VirtualScroll_stories_slicedToArray(arr,i){return function VirtualScroll_stories_arrayWithHoles(arr){if(Array.isArray(arr))return arr}(arr)||function VirtualScroll_stories_iterableToArrayLimit(arr,i){var _i=null==arr?null:"undefined"!=typeof Symbol&&arr[Symbol.iterator]||arr["@@iterator"];if(null!=_i){var _s,_e,_x,_r,_arr=[],_n=!0,_d=!1;try{if(_x=(_i=_i.call(arr)).next,0===i){if(Object(_i)!==_i)return;_n=!1}else for(;!(_n=(_s=_x.call(_i)).done)&&(_arr.push(_s.value),_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{if(!_n&&null!=_i.return&&(_r=_i.return(),Object(_r)!==_r))return}finally{if(_d)throw _e}}return _arr}}(arr,i)||VirtualScroll_stories_unsupportedIterableToArray(arr,i)||function VirtualScroll_stories_nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function VirtualScroll_stories_unsupportedIterableToArray(o,minLen){if(o){if("string"==typeof o)return VirtualScroll_stories_arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);return"Object"===n&&o.constructor&&(n=o.constructor.name),"Map"===n||"Set"===n?Array.from(o):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?VirtualScroll_stories_arrayLikeToArray(o,minLen):void 0}}function VirtualScroll_stories_arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}__webpack_exports__.default={title:"VirtualScroll",component:StoryContainer,argTypes:{onLoadMore:{action:"onLoadMore"},totalDataCount:{control:{type:"number",min:0,max:1e5,step:10}},loadChunkSize:{control:{type:"number",min:1,step:10}},overscrollRowsCount:{control:{type:"number",min:1}}}};function StoryContainer(props){var totalDataCount=props.totalDataCount,loadChunkSize=props.loadChunkSize,onLoadMoreProp=props.onLoadMore,_useState2=VirtualScroll_stories_slicedToArray(Object(react.useState)(!1),2),loading=_useState2[0],setLoading=_useState2[1],_useState4=VirtualScroll_stories_slicedToArray(Object(react.useState)([]),2),data=_useState4[0],setData=_useState4[1],onLoadMore=Object(react.useCallback)(function(){var _ref=function _asyncToGenerator(fn){return function(){var self=this,args=arguments;return new Promise((function(resolve,reject){var gen=fn.apply(self,args);function _next(value){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"next",value)}function _throw(err){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"throw",err)}_next(void 0)}))}}(_regeneratorRuntime().mark((function _callee(start){var chunk;return _regeneratorRuntime().wrap((function _callee$(_context){for(;;)switch(_context.prev=_context.next){case 0:if(console.log("onLoadMore",start," - ",start+loadChunkSize),!(start<totalDataCount)){_context.next=12;break}return null==onLoadMoreProp||onLoadMoreProp(start),setLoading(!0),_context.prev=4,_context.next=7,getData({offset:start,pageSize:loadChunkSize});case 7:chunk=_context.sent,setData((function(data){return[].concat(_toConsumableArray(data),_toConsumableArray(chunk))}));case 9:return _context.prev=9,setLoading(!1),_context.finish(9);case 12:case"end":return _context.stop()}}),_callee,null,[[4,,9,12]])})));return function(_x2){return _ref.apply(this,arguments)}}(),[totalDataCount,loadChunkSize,onLoadMoreProp]),renderRow=Object(react.useCallback)((function(data){return Object(jsx_runtime.jsx)(Row,{style:{minHeight:data.height},children:data.description})}),[]),onClearClick=Object(react.useCallback)((function(){setData([])}),[]);return Object(jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[Object(jsx_runtime.jsx)(GlobalStyle,{}),Object(jsx_runtime.jsxs)(Root,{children:[Object(jsx_runtime.jsx)(styles_VirtualScroll,{data:data,loading:loading,onLoadMore:onLoadMore,renderRow:renderRow}),Object(jsx_runtime.jsx)("button",{onClick:onClearClick,children:"Clear data"})]})]})}var VirtualScroll_stories_Template=function Template(props){return Object(jsx_runtime.jsx)(StoryContainer,Object.assign({},props))};VirtualScroll_stories_Template.displayName="Template";var VirtualScrollSample=VirtualScroll_stories_Template.bind({});VirtualScrollSample.args={totalDataCount:1e5,loadChunkSize:100,overscrollRowsCount:10},VirtualScrollSample.parameters=Object.assign({storySource:{source:"(props: StoryProps) => <StoryContainer {...props} />"}},VirtualScrollSample.parameters)},"./storybook-init-framework-entry.js":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);__webpack_require__("./node_modules/@storybook/react/dist/esm/client/index.js")},0:function(module,exports,__webpack_require__){__webpack_require__("./node_modules/@storybook/core-client/dist/esm/globals/polyfills.js"),__webpack_require__("./node_modules/@storybook/core-client/dist/esm/globals/globals.js"),__webpack_require__("./storybook-init-framework-entry.js"),__webpack_require__("./node_modules/@storybook/react/dist/esm/client/docs/config-generated-config-entry.js"),__webpack_require__("./node_modules/@storybook/react/dist/esm/client/preview/config-generated-config-entry.js"),__webpack_require__("./node_modules/@storybook/addon-links/preview.js-generated-config-entry.js"),__webpack_require__("./node_modules/@storybook/addon-docs/preview.js-generated-config-entry.js"),__webpack_require__("./node_modules/@storybook/addon-actions/preview.js-generated-config-entry.js"),__webpack_require__("./node_modules/@storybook/addon-backgrounds/preview.js-generated-config-entry.js"),__webpack_require__("./node_modules/@storybook/addon-measure/preview.js-generated-config-entry.js"),__webpack_require__("./node_modules/@storybook/addon-outline/preview.js-generated-config-entry.js"),__webpack_require__("./node_modules/@storybook/addon-interactions/preview.js-generated-config-entry.js"),__webpack_require__("./.storybook/preview.js-generated-config-entry.js"),module.exports=__webpack_require__("./generated-stories-entry.js")},1:function(module,exports){}},[[0,5,6]]]);
//# sourceMappingURL=main.ea810de5.iframe.bundle.js.map